<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ö—É—Ä—Å Angular + TypeScript (2 –º—ñ—Å—è—Ü—ñ) ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É —Ñ–∞–π–ª</title>
    <style>
        :root {
            --bg: #0f111a;
            --bg-card: #1a1c25;
            --text: #e2e8f0;
            --muted: #a0aec0;
            --accent: #3b82f6;
            --accent2: #60a5fa;
            --border: #2a2d3a;
            --success: #22c55e;
            --danger: #ef4444;
        }

        * {
            box-sizing: border-box
        }

        body {
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 24px
        }

        h1 {
            margin: 0 0 6px;
            text-align: center
        }

        p.sub {
            margin: 0 0 18px;
            text-align: center;
            color: var(--muted)
        }

        .toolbar {
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin: 12px 0
        }

        .badge {
            border: 1px solid var(--border);
            padding: 6px 10px;
            border-radius: 999px;
            background: var(--bg-card);
            color: var(--muted);
            font-size: .9em
        }

        .progress-bar {
            width: 100%;
            background: var(--border);
            border-radius: 6px;
            height: 10px;
            overflow: hidden;
            margin: 16px 0
        }

        .progress-fill {
            height: 10px;
            background: var(--accent);
            width: 0%;
            transition: width .35s ease
        }

        .week {
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 18px;
            margin: 14px 0;
            background: var(--bg-card);
            box-shadow: 0 4px 15px rgba(0, 0, 0, .2);
            transition: transform .2s ease, box-shadow .2s ease;
            position: relative
        }

        .week:hover {
            transform: scale(1.01);
            box-shadow: 0 6px 20px rgba(0, 0, 0, .3)
        }

        .week h3 {
            color: var(--accent2);
            margin: 0 0 10px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 6px
        }

        .week.done {
            border-color: var(--success);
            box-shadow: 0 0 10px rgba(34, 197, 94, .35)
        }

        .week.done h3 {
            color: var(--success)
        }

        .mark-week-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: .8em;
            background: transparent;
            color: var(--accent2);
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 6px 10px;
            cursor: pointer;
            transition: .25s
        }

        .mark-week-btn:hover {
            background: var(--accent);
            color: #fff
        }

        .lesson {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 6px 0;
            padding: 7px;
            border-left: 3px solid transparent;
            border-radius: 6px;
            transition: background .2s ease, border-color .2s ease
        }

        .lesson:hover {
            background: rgba(255, 255, 255, .05);
            border-color: var(--accent)
        }

        .lesson input[type="checkbox"] {
            transform: scale(1.25);
            cursor: pointer;
            accent-color: var(--accent)
        }

        .lesson.done label {
            text-decoration: line-through;
            color: #71717a
        }

        .lesson.done {
            border-left-color: var(--success)
        }

        .task {
            font-size: .92em;
            color: #a1a1aa;
            margin-left: 35px;
            margin-bottom: 6px
        }

        button {
            padding: 10px 14px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text);
            cursor: pointer
        }

        button.primary {
            background: var(--accent);
            border: none
        }

        button.primary:hover {
            background: var(--accent2)
        }

        input[type="file"] {
            display: none
        }
    </style>
</head>

<body>
    <h1>üÖ∞Ô∏è –ö—É—Ä—Å Angular + TypeScript ‚Äî 2 –º—ñ—Å—è—Ü—ñ</h1>
    <p class="sub">–ú–µ—Ç–∞: —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ <b>TaskFlow</b> ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á —ñ–∑ —Ñ–æ—Ä–º–∞–º–∏, —Å–∏–≥–Ω–∞–ª–∞–º–∏, —Å–µ—Ä–≤—ñ—Å–∞–º–∏, –ø–∞–π–ø–∞–º–∏
        —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–∏–º –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º.</p>

    <div class="toolbar">
        <span class="badge" id="saveStatus">–§–∞–π–ª: –Ω–µ –≤–∏–±—Ä–∞–Ω–æ</span>
        <button class="primary" onclick="resetProgress()">–°–∫–∏–Ω—É—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å</button>
        <button onclick="exportJSON()">–ï–∫—Å–ø–æ—Ä—Ç JSON</button>
        <label for="importFile" class="primary" style="cursor:pointer;">–Ü–º–ø–æ—Ä—Ç JSON</label>
        <input id="importFile" type="file" accept="application/json" />
        <button onclick="chooseFile()">–û–±—Ä–∞—Ç–∏ —Ñ–∞–π–ª –¥–ª—è –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è</button>
        <button onclick="clearFile()">–í—ñ–¥–≤‚Äô—è–∑–∞—Ç–∏ —Ñ–∞–π–ª</button>
    </div>

    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>
    <div id="course"></div>

    <script>
        /* ---------- –î–∞–Ω—ñ –∫—É—Ä—Å—É ---------- */
        const course = [
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 1 ‚Äî –í—Å—Ç—É–ø, TypeScript, –ø–µ—Ä—à–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç", lessons: [
                    ["–©–æ —Ç–∞–∫–µ Angular, —á–æ–º—É –≤—ñ–Ω —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π —ñ –Ω–∞–≤—ñ—â–æ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏", "–°—Ç–≤–æ—Ä–∏ –∫–æ–Ω—Å–ø–µ–∫—Ç —É README.md ‚Äî –∫–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ Angular, –π–æ–≥–æ —ñ—Å—Ç–æ—Ä—ñ—é —Ç–∞ –ø–µ—Ä–µ–≤–∞–≥–∏."],
                    ["–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Node.js, Angular CLI, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É", "–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π –ø—Ä–æ–µ–∫—Ç TaskFlow —á–µ—Ä–µ–∑ Angular CLI."],
                    ["–û–≥–ª—è–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä–æ—î–∫—Ç—É, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —ñ –º–æ–¥—É–ª—è", "–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ñ–∞–π–ª–∏, –∑–Ω–∞–π–¥–∏ AppComponent."],
                    ["–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞", "–î–æ–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>HeaderComponent</code> –∑ –Ω–∞–∑–≤–æ—é TaskFlow."],
                    ["–û—Å–Ω–æ–≤–∏ TypeScript: —Ç–∏–ø–∏, —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏, –∫–ª–∞—Å–∏", "–°—Ç–≤–æ—Ä–∏ –º–æ–¥–µ–ª—å <code>Task</code> –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º {id,title,description,status}."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 2 ‚Äî –ó–≤‚Äô—è–∑—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –ø–æ–¥—ñ—ó, –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç", lessons: [
                    ["–Ü–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü—ñ—è, –ø—Ä–∏–≤‚Äô—è–∑–∫–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —Ç–∞ –∞—Ç—Ä–∏–±—É—Ç—ñ–≤", "–í–∏–≤–µ–¥–∏ —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤–∏—Ö –∑–∞–¥–∞—á —É —à–∞–±–ª–æ–Ω—ñ –∑ *ngFor."],
                    ["–û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π (Event Binding)", "–î–æ–¥–∞–π –∫–Ω–æ–ø–∫—É –¥–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É –∑–∞–¥–∞—á—ñ —Ç–∞ –æ–±—Ä–æ–±–∏ –ø–æ–¥—ñ—é."],
                    ["–î–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—î –∑–≤‚Äô—è–∑—É–≤–∞–Ω–Ω—è (ngModel)", "–î–æ–¥–∞–π —Ñ–æ—Ä–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ –∑ –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ–º –∑–≤‚Äô—è–∑—É–≤–∞–Ω–Ω—è–º."],
                    ["–°–∏–≥–Ω–∞–ª–∏ –≤ Angular 19", "–ó–∞–º—ñ–Ω–∏ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –Ω–∞ Signals –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–∞–¥–∞—á."],
                    ["–ü—Ä–∞–∫—Ç–∏–∫–∞", "–†–µ–∞–ª—ñ–∑—É–π –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á —É —Å–ø–∏—Å–æ–∫ —ñ–∑ —Ñ–æ—Ä–º–æ—é —Ç–∞ —Å–∏–≥–Ω–∞–ª–∞–º–∏."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 3 ‚Äî –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, Input/Output, –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è", lessons: [
                    ["–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (Input)", "–ü–µ—Ä–µ–¥–∞–π –∑–∞–¥–∞—á—É —É –¥–æ—á—ñ—Ä–Ω—ñ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>TaskItemComponent</code>."],
                    ["–í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–¥—ñ–π –Ω–∞–≥–æ—Ä—É (Output)", "–ó—Ä–æ–±–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ —á–µ—Ä–µ–∑ –ø–æ–¥—ñ—é –∑ –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞."],
                    ["–û–±—á–∏—Å–ª—é–≤–∞–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (Getters)", "–î–æ–¥–∞–π –≤–∏–≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö –∑–∞–¥–∞—á."],
                    ["–î–∏–Ω–∞–º—ñ—á–Ω–µ —Å—Ç–∏–ª—é–≤–∞–Ω–Ω—è", "–ü–æ–∑–Ω–∞—á –∑–∞–≤–µ—Ä—à–µ–Ω—ñ –∑–∞–¥–∞—á—ñ –∑–µ–ª–µ–Ω–∏–º –∫–æ–ª—å–æ—Ä–æ–º —á–µ—Ä–µ–∑ –∫–ª–∞—Å binding."],
                    ["–ü—Ä–∞–∫—Ç–∏–∫–∞", "–°—Ç–≤–æ—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>TaskListComponent</code> —ñ —Ä–µ–∞–ª—ñ–∑—É–π –ø–æ–≤–Ω—É –≤–∑–∞—î–º–æ–¥—ñ—é."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 4 ‚Äî –§–æ—Ä–º–∏, –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—î –∑–≤‚Äô—è–∑—É–≤–∞–Ω–Ω—è, Pipes", lessons: [
                    ["–®–∞–±–ª–æ–Ω–Ω—ñ —Ñ–æ—Ä–º–∏ Angular", "–î–æ–¥–∞–π —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω–Ω—É —Ñ–æ—Ä–º—É."],
                    ["–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º", "–î–æ–¥–∞–π –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ—Å—Ç—å –ø–æ–ª—ñ–≤ –Ω–∞–∑–≤–∏ —Ç–∞ –æ–ø–∏—Å—É."],
                    ["Pipes ‚Äî —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö", "–î–æ–¥–∞–π pipe –¥–ª—è –æ–±—Ä—ñ–∑–∞–Ω–Ω—è –æ–ø–∏—Å—É."],
                    ["–ö–∞—Å—Ç–æ–º–Ω—ñ Pipes", "–°—Ç–≤–æ—Ä–∏ pipe –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö –∑–∞–¥–∞—á."],
                    ["–ü—Ä–∞–∫—Ç–∏–∫–∞", "–†–µ–∞–ª—ñ–∑—É–π —Ñ—ñ–ª—å—Ç—Ä '–ü–æ–∫–∞–∑–∞—Ç–∏ –ª–∏—à–µ –∞–∫—Ç–∏–≤–Ω—ñ'."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 5 ‚Äî –°–µ—Ä–≤—ñ—Å–∏ —Ç–∞ Dependency Injection", lessons: [
                    ["–©–æ —Ç–∞–∫–µ —Å–µ—Ä–≤—ñ—Å —Ç–∞ —è–∫ –π–æ–≥–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏", "–°—Ç–≤–æ—Ä–∏ <code>TaskService</code> –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–¥–∞—á–∞–º–∏."],
                    ["Dependency Injection", "–Ü–Ω–∂–µ–∫—Ç—É–π —Å–µ—Ä–≤—ñ—Å —É TaskListComponent."],
                    ["–°–∏–≥–Ω–∞–ª–∏ —É —Å–µ—Ä–≤—ñ—Å–∞—Ö", "–ü–µ—Ä–µ–Ω–µ—Å–∏ –ª–æ–≥—ñ–∫—É —Å–∏–≥–Ω–∞–ª—ñ–≤ —É —Å–µ—Ä–≤—ñ—Å."],
                    ["–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è localStorage", "–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–π –∑–∞–¥–∞—á—ñ –∑ localStorage —É —Å–µ—Ä–≤—ñ—Å—ñ."],
                    ["–ü—Ä–∞–∫—Ç–∏–∫–∞", "–ü–µ—Ä–µ–≤—ñ—Ä –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞–¥–∞—á –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 6 ‚Äî –ú–æ–¥—É–ª—ñ, –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞", lessons: [
                    ["–©–æ —Ç–∞–∫–µ –º–æ–¥—É–ª—ñ (NgModule)", "–°—Ç–≤–æ—Ä–∏ <code>TaskModule</code> —ñ –ø–µ—Ä–µ–Ω–µ—Å–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏."],
                    ["SharedModule", "–í–∏–Ω–µ—Å–∏ —Å–ø—ñ–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞ –ø–∞–π–ø–∏."],
                    ["–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π", "–†–æ–∑–∫–ª–∞–¥–∏ –∫–æ–¥ –∑–∞ —Ñ—ñ—á–∞–º–∏ (core/shared/features)."],
                    ["Standalone Components", "–ü–µ—Ä–µ–≤–µ–¥–∏ –¥—Ä—ñ–±–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —É standalone."],
                    ["–ü—Ä–∞–∫—Ç–∏–∫–∞", "–û–Ω–æ–≤–∏ —ñ–º–ø–æ—Ä—Ç–∏/–µ–∫—Å–ø–æ—Ä—Ç–∏ –∑–≥—ñ–¥–Ω–æ –∑ best practices."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 7 ‚Äî –î–∏—Ä–µ–∫—Ç–∏–≤–∏, –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª", lessons: [
                    ["–ö–∞—Å—Ç–æ–º–Ω—ñ –¥–∏—Ä–µ–∫—Ç–∏–≤–∏", "–°—Ç–≤–æ—Ä–∏ –¥–∏—Ä–µ–∫—Ç–∏–≤—É –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—ó –∑–∞–¥–∞—á—ñ."],
                    ["–ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤", "–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π –¥–∞–Ω—ñ –∑ localStorage —É ngOnInit."],
                    ["ViewChild —ñ –¥–æ—Å—Ç—É–ø –¥–æ DOM", "–û—Ç—Ä–∏–º–∞–π –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ø–∏—Å–∫—É."],
                    ["HostListener/HostBinding", "–î–æ–¥–∞–π –µ—Ñ–µ–∫—Ç–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç –∑–∞–¥–∞—á—ñ."],
                    ["–ü—Ä–∞–∫—Ç–∏–∫–∞", "–£–≤—ñ–º–∫–Ω–∏ –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞–Ω—É."]
                ]
            },
            {
                week: "–¢–∏–∂–¥–µ–Ω—å 8 ‚Äî –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è, OnPush, AsyncPipe, —Ñ—ñ–Ω–∞–ª", lessons: [
                    ["Change Detection —Ç–∞ OnPush —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è", "–ü–µ—Ä–µ–≤–µ–¥–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫—É –∑–∞–¥–∞—á –Ω–∞ OnPush."],
                    ["AsyncPipe", "–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π AsyncPipe –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—É."],
                    ["–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É", "–ü–µ—Ä–µ–≤—ñ—Ä —Ç–∏–ø–∏, –ø–µ—Ä–µ–π–º–µ–Ω—É–π –∑–º—ñ–Ω–Ω—ñ, –ø—Ä–∏–±–µ—Ä–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏ –∫–æ–¥—É."],
                    ["–î–µ–ø–ª–æ–π", "–ó–±–µ—Ä–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —á–µ—Ä–µ–∑ ng build —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂ –Ω–∞ GitHub Pages."],
                    ["–ü—ñ–¥—Å—É–º–æ–∫", "–û–ø–∏—à–∏ –≤ README –æ—Å–Ω–æ–≤–Ω—ñ –∑–¥–æ–±—É—Ç—ñ –Ω–∞–≤–∏—á–∫–∏."]
                ]
            }
        ];

        /* ---------- –†–µ–Ω–¥–µ—Ä ---------- */
        function loadCourse() {
            const container = document.getElementById('course');
            container.innerHTML = '';
            course.forEach((week, i) => {
                const div = document.createElement('div');
                const weekId = `week-${i}`;
                const isWeekDone = getFlag(weekId);

                div.className = 'week' + (isWeekDone ? ' done' : '');
                div.innerHTML = `
      <h3>${week.week}</h3>
      <button class="mark-week-btn" onclick="toggleWeek('${weekId}')">${isWeekDone ? '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '–ü–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–æ'}</button>
      ${week.lessons.map((l, j) => {
                    const id = `w${i}-l${j}`;
                    const done = getFlag(id);
                    return `
        <div class="lesson ${done ? 'done' : ''}">
          <input type="checkbox" id="${id}" ${done ? 'checked' : ''} onchange="toggleLesson('${id}')">
          <label for="${id}">${l[0]}</label>
        </div>
        <div class="task"><b>–ó–∞–≤–¥–∞–Ω–Ω—è:</b> ${l[1]}</div>`;
                }).join('')}
    `;
                container.appendChild(div);
            });
            updateProgress();
        }

        /* ---------- –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ ---------- */
        function getFlag(key) { return localStorage.getItem(key) === '1'; }
        function setFlag(key, val) { if (val) { localStorage.setItem(key, '1') } else { localStorage.removeItem(key) } }

        /* ---------- –¢–æ–≥–ª–∏ ---------- */
        function toggleLesson(id) {
            const el = document.getElementById(id);
            const label = el.nextElementSibling;
            setFlag(id, el.checked);
            label.parentElement.classList.toggle('done', el.checked);
            updateProgress();
            saveIfFileChosen();
        }
        function toggleWeek(weekId) {
            const btn = document.querySelector(`[onclick="toggleWeek('${weekId}')"]`);
            const weekDiv = btn.closest('.week');
            const done = !getFlag(weekId);
            setFlag(weekId, done);
            weekDiv.classList.toggle('done', done);
            btn.textContent = done ? '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '–ü–æ–∑–Ω–∞—á–∏—Ç–∏ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–æ';
            updateProgress();
            saveIfFileChosen();
        }

        /* ---------- –ü—Ä–æ–≥—Ä–µ—Å ---------- */
        function updateProgress() {
            const totalLessons = document.querySelectorAll('input[type="checkbox"]').length;
            const doneLessons = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const totalWeeks = course.length;
            let doneWeeks = 0;
            for (let i = 0; i < totalWeeks; i++) { if (getFlag(`week-${i}`)) doneWeeks++; }
            const total = totalLessons + totalWeeks;
            const done = doneLessons + doneWeeks;
            const percent = total ? (done / total) * 100 : 0;
            document.getElementById('progressFill').style.width = percent + '%';
        }

        /* ---------- –ï–∫—Å–ø–æ—Ä—Ç / –Ü–º–ø–æ—Ä—Ç JSON ---------- */
        function getProgressData() {
            const data = { weeks: [], lessons: {}, version: 1, updatedAt: new Date().toISOString() };
            course.forEach((w, wi) => {
                data.weeks[wi] = getFlag(`week-${wi}`);
                w.lessons.forEach((_, li) => {
                    const id = `w${wi}-l${li}`;
                    data.lessons[id] = getFlag(id);
                });
            });
            return data;
        }
        function applyProgressData(data) {
            // –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ, –ø–æ—Ç—ñ–º –≤–∏—Å—Ç–∞–≤–∏—Ç–∏ –∑–∞ –¥–∞–Ω–∏–º–∏
            Object.keys(localStorage).forEach(k => {
                if (k.startsWith('week-') || k.startsWith('w')) localStorage.removeItem(k);
            });
            (data.weeks || []).forEach((v, wi) => setFlag(`week-${wi}`, !!v));
            if (data.lessons) {
                Object.entries(data.lessons).forEach(([k, v]) => setFlag(k, !!v));
            }
            loadCourse();
        }
        function exportJSON() {
            const blob = new Blob([JSON.stringify(getProgressData(), null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; a.download = 'progress.json';
            document.body.appendChild(a); a.click();
            a.remove(); URL.revokeObjectURL(url);
        }
        document.getElementById('importFile').addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if (!file) return;
            try {
                const txt = await file.text();
                const data = JSON.parse(txt);
                applyProgressData(data);
                saveIfFileChosen(); // –æ–¥—Ä–∞–∑—É –∑–±–µ—Ä–µ–≥—Ç–∏ —É –≤–∏–±—Ä–∞–Ω–∏–π —Ñ–∞–π–ª, —è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
            } catch (err) {
                alert('–ù–µ –≤–¥–∞–ª–æ—Å—è —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ JSON: ' + err.message);
            } finally {
                e.target.value = '';
            }
        });

        /* ---------- –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É –ª–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª (File System Access API) ---------- */
        let fileHandle = null;
        const HANDLE_KEY = 'progressFileHandle'; // –∑–±–µ—Ä–µ–∂–µ–º–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä (—è–∫—â–æ –±—Ä–∞—É–∑–µ—Ä –¥–æ–∑–≤–æ–ª—è—î)

        async function chooseFile() {
            if (!('showSaveFilePicker' in window)) {
                alert('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î File System Access API. –î–æ—Å—Ç—É–ø–Ω–æ —É Chromium-–±—Ä–∞—É–∑–µ—Ä–∞—Ö.');
                return;
            }
            try {
                fileHandle = await window.showSaveFilePicker({
                    suggestedName: 'progress.json',
                    types: [{ description: 'JSON', accept: { 'application/json': ['.json'] } }]
                });
                await persistHandle(fileHandle);
                await writeToFile(); // –ø–µ—Ä–≤–∏–Ω–Ω–∏–π –∑–∞–ø–∏—Å
                updateSaveStatus();
            } catch (e) {
                if (e.name !== 'AbortError') alert('–ü–æ–º–∏–ª–∫–∞ –≤–∏–±–æ—Ä—É —Ñ–∞–π–ª—É: ' + e.message);
            }
        }
        function clearFile() {
            fileHandle = null;
            localStorage.removeItem(HANDLE_KEY);
            updateSaveStatus();
        }
        function updateSaveStatus() {
            const el = document.getElementById('saveStatus');
            if (fileHandle) el.textContent = '–§–∞–π–ª: –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ';
            else el.textContent = '–§–∞–π–ª: –Ω–µ –≤–∏–±—Ä–∞–Ω–æ';
        }

        async function persistHandle(handle) {
            // –°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ (–ø—Ä–∞—Ü—é—î —É Chromium)
            if ('serializable' in FileSystemHandle.prototype || handle) {
                try {
                    const serialized = await handle.serialize();
                    localStorage.setItem(HANDLE_KEY, JSON.stringify(serialized));
                } catch (e) {
                    // —è–∫—â–æ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —ñ–≥–Ω–æ—Ä—É—î–º–æ
                }
            }
        }
        async function restoreHandle() {
            const raw = localStorage.getItem(HANDLE_KEY);
            if (!raw) return;
            try {
                const serialized = JSON.parse(raw);
                if ('deserialize' in window) {
                    fileHandle = await window.deserialize(serialized);
                }
            } catch (e) {
                // –Ω–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ ‚Äî –ø—Ä–∏–±–µ—Ä–µ–º–æ –∫–ª—é—á
                localStorage.removeItem(HANDLE_KEY);
            }
        }
        async function verifyPermission(handle, mode = 'readwrite') {
            const opts = { mode };
            if ((await handle.queryPermission(opts)) === 'granted') return true;
            if ((await handle.requestPermission(opts)) === 'granted') return true;
            return false;
        }
        async function writeToFile() {
            if (!fileHandle) return;
            try {
                if (!(await verifyPermission(fileHandle, 'readwrite'))) {
                    alert('–ù–µ–º–∞—î –¥–æ–∑–≤–æ–ª—É –Ω–∞ –∑–∞–ø–∏—Å —É —Ñ–∞–π–ª.');
                    return;
                }
                const writable = await fileHandle.createWritable();
                await writable.write(JSON.stringify(getProgressData(), null, 2));
                await writable.close();
            } catch (e) {
                console.warn('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–ø–∏—Å–∞—Ç–∏ —Ñ–∞–π–ª:', e);
            }
        }
        function saveIfFileChosen() {
            // –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –∑–º—ñ–Ω–∏
            if (fileHandle) writeToFile();
        }

        /* ---------- –°–∫–∏–¥–∞–Ω–Ω—è ---------- */
        function resetProgress() {
            if (confirm('–°–∫–∏–Ω—É—Ç–∏ —É–≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å?')) {
                Object.keys(localStorage).forEach(k => {
                    if (k.startsWith('week-') || k.startsWith('w') || k === HANDLE_KEY) localStorage.removeItem(k);
                });
                fileHandle = null;
                loadCourse();
                updateSaveStatus();
            }
        }

        /* ---------- –°—Ç–∞—Ä—Ç ---------- */
        window.addEventListener('load', async () => {
            await restoreHandle();
            loadCourse();
            updateSaveStatus();
        });
    </script>
</body>

</html>